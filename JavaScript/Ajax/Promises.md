–ü—Ä–æ–º–∏—Å - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç JavaScript, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. 

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç¬†`Promise`¬†–≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è. –í–Ω—É—Ç—Ä–∏ –ø—Ä–æ–º–∏—Å–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ¬†—É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ.

---

–°–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–æ–∑–¥–∞–Ω–∏—è¬†`Promise`:

```js
const promise = new Promise((resolve, reject) => {
	// –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (executor)
});
```

–§—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é¬†`new Promise`, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è¬†_–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å_¬†(executor). –ö–æ–≥–¥–∞¬†`Promise` —Å–æ–∑–¥–∞—ë—Ç—Å—è, –æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–∏–º—Å–∞ (`Promise` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥, –µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é). –ó–∞–¥–∞—á–∞ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –≤¬†`fulfilled`¬†–∏–ª–∏¬†`rejected`.

–ò–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –º–æ–∂–Ω–æ, –≤—ã–∑–≤–∞–≤ –∫–æ–ª–±—ç–∫–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é:
- `resolve(value)`¬†‚Äî –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ, —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º¬†`value`.
- `reject(error)`¬†‚Äî –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞,¬†`error`¬†‚Äì –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏.
---

–£ –æ–±—ä–µ–∫—Ç–∞¬†`promise`, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º¬†`new Promise`, –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:  
`state` –∏ `result`.

`result` - —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `undefined` -  –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ, –∫–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏¬†`pending`;
- `value` - –ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`resolve(value)`;
- `error` - –ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`reject(error)`.

–ü—Ä–æ–º–∏—Å –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ —Ç—Ä—ë—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:
- `pending`¬†‚Äî  –æ–∂–∏–¥–∞–Ω–∏–µ (—Å—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–ø–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª–∞);
- `fulfilled`¬†‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ (¬†–ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`resolve`)
- `rejected`¬†‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å –æ—à–∏–±–∫–æ–π (–ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`reject`).
–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏–±–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏  `fulfilled`, –ª–∏–±–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `rejected`, –Ω–∞–∑—ã–≤–∞—é—Ç `settled` (–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º).

![[Pasted image 20240801003427.png]]

–°–≤–æ–π—Å—Ç–≤–∞¬†`state`¬†–∏¬†`result`¬†‚Äì —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞¬†`Promise`¬†–∏ –º—ã –Ω–µ –∏–º–µ–µ–º –∫ –Ω–∏–º –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

>–ü–æ–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑: –ø–µ—Ä–µ–π—Ç–∏ –∏–∑¬†`pending`¬†–ª–∏–±–æ –≤¬†`fulfilled`, –ª–∏–±–æ –≤¬†`rejected`.
>–¢–∞–∫–∂–µ –∑–∞–º–µ—Ç–∏–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è¬†`resolve`/`reject`¬†–æ–∂–∏–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç (–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ). –í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.

![[Pasted image 20240722140309.png]]

```js
const promise = new Promise((resolve, reject) => {
	setTimeout(() => resolve('done'), 1000); 
	// –ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–∏—Å–∞ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ fulfilled. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç —Å—Ç—Ä–æ–∫–∞'done'
});
```

![[Pasted image 20240722141136.png]]

```js
const promise = new Promise((resolve, reject) => {
	setTimeout(() => reject(new Error("Whoops!")), 1000);
	// –ø–µ—Ä–µ–≤–æ–¥ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ rejected. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –æ–±—ä–µ–∫—Ç Error
});
```

![[Pasted image 20240722141256.png]]

>[!tip] `Promise.resolve()`¬†–∏¬†`Promise.reject()`¬†–≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–æ–º–∏—Å—ã.

___

### –ú–µ—Ç–æ–¥—ã: then, catch, finally

–û–±—ä–µ–∫—Ç¬†`Promise`¬†—Å–ª—É–∂–∏—Ç —Å–≤—è–∑—É—é—â–∏–º –∑–≤–µ–Ω–æ–º –º–µ–∂–¥—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º (`executor`) –∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏ (`consuming function`), –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—Ç –ª–∏–±–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ª–∏–±–æ –æ—à–∏–±–∫—É. –§—É–Ω–∫—Ü–∏–∏-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤¬†`.then`¬†–∏¬†`.catch`.
___
#### then

–ú–µ—Ç–æ–¥¬†`then()`¬†–∏—Å–ø–æ–ª—å–∑—É—é—Ç, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ú–µ—Ç–æ–¥¬†`then()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–ª–±—ç–∫–∞. –ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏¬†`fulfilled`¬†—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è. –ï—Å–ª–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏¬†`rejected`¬†‚Äî –≤—Ç–æ—Ä–∞—è. 

```js
const promise = new Promise((resolve, reject) => {
	setTimeout(() => resolve("done!"), 1000);
});

// resolve –∑–∞–ø—É—Å—Ç–∏—Ç –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –≤ .then
promise.then(
	result => alert(result), // –≤—ã–≤–µ–¥–µ—Ç "done!" —á–µ—Ä–µ–∑ –æ–¥–Ω—É —Å–µ–∫—É–Ω–¥—É
	error => alert(error) // –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞
);
```

–•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–µ—Ç–æ–¥–∞¬†`then()`¬†–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–∞¬†`catch()`.

```js
const promise = new Promise((resolve, reject) => {
	setTimeout(() => reject(new Error("Whoops!")), 1000);
});

// reject –∑–∞–ø—É—Å—Ç–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –≤ .catch
promise
	.then(result => alert(result))
	.catch(error => alert(error));
```

___
#### catch

–ú–µ—Ç–æ–¥¬†`catch()`¬†–∏—Å–ø–æ–ª—å–∑—É—é—Ç, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ú–µ—Ç–æ–¥¬†`catch()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–ª–±—ç–∫, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ–º–∏—Å –ø–æ–º–µ–Ω—è–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞¬†`rejected`.

 –ü–æ —Å—É—Ç–∏,  `catch(errorHandlingFunction)` - —ç—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –º–µ—Ç–æ–¥–µ `then` `null`¬†–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:¬†`then(null, errorHandlingFunction)`.
___
#### finally

–ú–µ—Ç–æ–¥¬†`finally()`¬†–∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–º–∏—Å–∞. –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è  –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ: –∫–∞–∫ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø—Ä–æ–º–∏—Å–∞  –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ¬†`fulfilled`, —Ç–∞–∫ –∏ –≤¬†`rejected`.

–ö–æ–ª–±—ç–∫ —É¬†`finally()`¬†–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –≠—Ç–æ —Å–ª–µ–¥—Å—Ç–≤–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –∫–æ–ª–±—ç–∫ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –∫–∞–∫ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, —Ç–∞–∫ –∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ.

`finally()`¬†–æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å –ª–æ–∞–¥–µ—Ä —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –∫–Ω–æ–ø–∫–∏. –û–Ω —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–º–∏—Å–∞, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

```js
let isLoading = true;

// –í–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–ª–∞–≥–∞, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ —Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:
sendForm()
	.then((res) => {
		isLoading = false;
		alert('ok');
	})
	.catch((err) => {
		isLoading = false;
		alert(`–û—à–∏–±–∫–∞: ${err.message}`);
	});

// –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å:
sendForm()
	.then((res) => {
	    alert('ok')
	})
	.catch((err) => {
	    alert(`–û—à–∏–±–∫–∞: ${err.message}`)
	})
	.finally(() => {
	    isLoading = false
	})
```

–ú–µ—Ç–æ–¥¬†`finally`¬†¬´–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç¬ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ, –∫ –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.

¬†–ó–¥–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑¬†`finally`¬†–∫¬†`then`:

```js
new Promise((resolve, reject) => {
	setTimeout(() => resolve("value"), 2000);
})
	.finally(() => alert("–ü—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à—ë–Ω")) // —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–º
	.then(result => alert(result)); // <-- .then –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "value"
```

–ê –∑–¥–µ—Å—å –æ—à–∏–±–∫–∞ –∏–∑ –ø—Ä–æ–º–∏—Å–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑¬†`finally`¬†–∫¬†`catch`:

```js
new Promise((resolve, reject) => {
	throw new Error("error");
})
	.finally(() => alert("–ü—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à—ë–Ω")) // —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–º
	.catch(err => alert(err));  // <-- .catch –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
```

> –û–±—Ä–∞–±–æ—Ç—á–∏–∫¬†`finally`¬†—Ç–∞–∫–∂–µ –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∏—á–µ–≥–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å. –ï—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.
___

### –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤

–¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π. 

```js
new Promise((resolve, reject) => {
	setTimeout(() => resolve(1), 1000);
})
	.then(result => {
		console.log(result); // 1
		return result * 2;
	})
	.then(result => {
		console.log(result); // 2
		return result * 2;
	})
	.then(result => console.log(result)) // 4
```

–ò–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —Ü–µ–ø–æ—á–∫–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤¬†`.then`. –í—Å—ë —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã–∑–æ–≤¬†`promise.then` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, —Ç–∞–∫ —á—Ç–æ –º—ã –º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å –Ω–∞ –Ω—ë–º —Å–ª–µ–¥—É—é—â–∏–π¬†`.then`.

–ù–æ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤ –Ω–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.

```js
new Promise((resolve, reject) => {
	setTimeout(() => {
		resolve(console.log('1 console.log'));
	}, 1000);
})
	.then(() => {
		setTimeout(() => {
			console.log('2 console.log');
		}, 2000);
	})
	.then(() => {
		console.log('3 console.log');
	});

// 1 console.log
// 3 console.log
// ... 2 seconds later
// 2 console.log
```

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —ç—Ç–æ—Ç –∫–æ–¥ –±—ã–ª –≤—ã–ø–æ–ª–µ–Ω –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫¬†`handler`, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤¬†`.then(handler)`, –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—Ä–æ–º–∏—Å. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–∂–∏–¥–∞—é—Ç, –ø–æ–∫–∞ –æ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –∏ –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∞—é—Ç –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

```js
new Promise((resolve, reject) => {
	setTimeout(() => {
		resolve(console.log('first console.log'));
	}, 1000);
}).then(() => {
	return new Promise(resolve => {
		setTimeout(() => {
			resolve(console.log('second console.log'));
		}, 2000);
	});
}).then(() => {
	console.log('third console.log');
});
```

–†–∞–∑–±–µ—Ä–µ–º –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –∫–æ–¥ –ø–æ—à–∞–≥–æ–≤–æ:

- –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å —Å —Ñ—É–Ω–∫—Ü–∏–µ–π-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç `setTimeout`.
- –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–ª–±—ç–∫ `setTimeout`: 
	a. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `resolve(console.log('1 console.log'))`.
    - `console.log('1 console.log')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.
    - `console.log()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `resolve()`.
    b. –°—Ä–∞–∑—É –ø–æ—Å–ª–µ `resolve()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞: 
	 `console.log('console.log after resolving promise')`
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–º–∏—Å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `fulfilled`.
- –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤ (–∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤–µ—Å—å –∫–æ–ª–±—ç–∫ `setTimeout`) –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `.then()`.

–¢—Ä–µ—Ç–∏–π `console.log` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `.then()`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ç–µ–∫—É—â–∏–π —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (–≤–∫–ª—é—á–∞—è –≤–µ—Å—å –∫–æ–ª–±—ç–∫ `setTimeout`) –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–Ω–µ—Ç—Å—è –≤ —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π.


–ï—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `fetch`, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Promise`:

```js
fetch(`https://swapi.dev/api/films/${id}/`)
  .then(response => {
    // —ç—Ç–æ—Ç then —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è –ø—Ä–æ–º–∏—Å —Å –∑–∞–ø—Ä–æ—Å–æ–º –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–∏–ª—å–º–µ
    return response.json() // –Ω—É–∂–Ω–æ —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞, —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
  })
  .then(movie => {
    // —ç—Ç–æ—Ç then —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –æ —Ñ–∏–ª—å–º–µ —Ä–∞—Å–ø–∞—Ä—Å—è—Ç—Å—è
    const characterUrl = movie.characters[0]
    return fetch(characterUrl) // –≤—ã–∑–æ–≤ fetch –≤–µ—Ä–Ω–µ—Ç –ø—Ä–æ–º–∏—Å, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∏–∑ –∫–æ–ª–±—ç–∫–∞, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ü–µ–ø–æ—á–∫—É
  })
  .then(response => {
    // —ç—Ç–æ—Ç then —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è –ø—Ä–æ–º–∏—Å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∑–∞–ø—Ä–æ—Å–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
    return response.json()
  })
  .then(character => {
    renderCharacterProfile(character)
  })
  .catch(err => {
    // catch —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ –ª—é–±–∞—è –∏–∑ –æ–ø–µ—Ä–∞—Ü–∏–π –≤—ã—à–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π
    renderErrorMessage(err)
  })
```


> `.then(handler)` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å (–ª—é–±–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—É—â–Ω–æ—Å—Ç—å –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–º–∏—Å).  –ï—Å–ª–∏ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ `.then(handler)` –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–æ–º–∏—Å, —Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "fulfilled" (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ) —Å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–ª–∏ `undefined`, –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –Ω–∏—á–µ–≥–æ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ.

```js
Promise.resolve(10)
    .then(x => x * 2) // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 20 (—Ç.–∫ => –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É) ‚Üí –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å fulfilled(20)
    .then(y => console.log(y)); // 20

Promise.resolve(10)
    .then(x => {
        console.log(x); // 10, –Ω–æ –Ω–µ—Ç return!
    }) // –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å fulfilled(undefined)
    .then(y => console.log(y)); // undefined
```

![[Pasted image 20240801003138.png]]

> [!danger] –í–Ω–∏–º–∞–Ω–∏–µ!
> 
> –í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ, –≤—ã–∑–æ–≤ `resolve()` –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏. –û–Ω –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –Ω–∞ `fulfilled`, –Ω–æ –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∞–ª—å—à–µ. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `then`

```js
new Promise(resolve => {
    setTimeout(() => {
        resolve(console.log('1 console.log'));
        console.log('console.log after resolving promise'); // !!!
    }, 2000);
}).then(() => {
    console.log('2 console.log');
});

// 1 console.log
// console.log after resolving promise
// 2 console.log
```
___

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ–º–∏—Å–æ–≤

–¶–µ–ø–æ—á–∫–∏¬†`then()`¬†–ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–æ–º–∏—Å–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º–∏. –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ `catch()`. 

`catch()`¬†–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –æ—Ç –≤—Å–µ—Ö¬†`then()`¬†–º–µ–∂–¥—É –Ω–∏–º –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–º¬†`catch()`

![[2-216w.webp]]

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –Ω–∞—à¬†`catch()`¬†‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π, –∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –Ω–µ—Ç, –ø–æ—ç—Ç–æ–º—É –æ–Ω –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏.

![[3-216w.webp]]

–ï—Å–ª–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ¬†`catch()`, —Ç–æ –∫–∞–∂–¥—ã–π –ª–æ–≤–∏—Ç –æ—à–∏–±–∫–∏ –æ—Ç¬†`then()`, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤—ã—à–µ.

![[4-216w.webp]]

–í–æ–∑–º–æ–∂–µ–Ω –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ–≥–¥–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ¬†`catch()`¬†–Ω–µ—Ç. –¢–æ–≥–¥–∞ –æ—à–∏–±–∫–∏ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö¬†`then()`¬†–Ω–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è.

‚ö†Ô∏è –¢–∞–∫–æ–π –∫–æ–¥ ‚Äî –ø–ª–æ—Ö–æ–π. –ï—Å–ª–∏ –≤ –æ–¥–Ω–æ–º –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö¬†`then()`¬†–ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞, —Ç–æ –≤—Å—è –¥–∞–ª—å–Ω–µ–π—à–∞—è —Ü–µ–ø–æ—á–∫–∞ –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–∏ —ç—Ç–æ–º, –∏–∑-–∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã –ø—Ä–æ–º–∏—Å–∞, –ø—Ä–æ—á–∏–π –∫–æ–¥ –≤–Ω–µ –ø—Ä–æ–º–∏—Å–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É–ø–∞–¥—ë—Ç.
___

### –ú–µ—Ç–æ–¥—ã –ø—Ä–æ–º–∏—Å–æ–≤

- `Promise.all(iterable)`
- `Promise.allSettled(iterable)`
- `Promise.race(iterable)`
- `Promise.any(iterable)`
- `Promise.reject(reason)`
- `Promise.resolve(value)`


#### `Promise.all()`

–ú–µ—Ç–æ–¥¬†`Promise.all()`¬†–∏—Å–ø–æ–ª—å–∑—É—é—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

`Promise.all()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–æ–º–∏—Å–æ–≤ (—á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî –º–∞—Å—Å–∏–≤) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç ==–≤—ã–ø–æ–ª–Ω–µ–Ω==, –∫–æ–≥–¥–∞ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –∏–ª–∏ ==–æ—Ç–∫–ª–æ–Ω—ë–Ω==, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.

–ú–µ—Ç–æ–¥¬†`Promise.all()`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤, –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ (–ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ) –º–∞—Å—Å–∏–≤–∞, –Ω–æ –Ω–µ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

```js
const promise1 = new Promise(resolve => setTimeout(() => resolve(1), 5000)) 
const promise2 = new Promise(resolve => setTimeout(() => resolve(2), 2000)) 
const promise3 = new Promise(resolve => setTimeout(() => resolve(3), 1000))

Promise.all([promise1, promise2, promise3])
  .then((responses) => {
	console.log(responses); // [1, 2, 3]
  })

// c –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–µ–π –º–∞—Å—Å–∏–≤–∞
Promise.all([promise1, promise2, promise3])
  .then(([response1, response2, response3]) => { 
	console.log(response1); // 1 
	console.log(response2); // 2
	console.log(response3); // 3
  })
```

–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, —Ç–æ¬†`Promise.all()`¬†—Ç–æ–∂–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å —ç—Ç–æ–π –æ—à–∏–±–∫–æ–π. –ú–µ—Ç–æ–¥ —É–∂–µ –Ω–µ –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø—Ä–æ–º–∏—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –≤—Å–µ-—Ç–∞–∫–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è, –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.

```js
const promise1 = new Promise(resolve => setTimeout(() => resolve(1), 5000));
const promise2 = new Promise((resolve, reject) => setTimeout(() => reject('error'), 2000));
const promise3 = new Promise(resolve => setTimeout(() => resolve(3), 1000));

Promise.all([promise1, promise2, promise3])
  .then(responses => console.log(responses))
  .catch(error => console.error(error)); // error
```

–í –∏—Ç–æ–≥–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫¬†`then()`–±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω, –∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–æ–¥ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—à–∏–±–æ–∫ `catch()`.

–î–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –º–∞—Å—Å–∏–≤ —Å –ø—Ä–æ–º–∏—Å–∞–º–∏ —Å –ø–æ–º–æ—â—å—é¬†`map()`. –í¬†`map()`¬†–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–æ–º–∏—Å, –∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤¬†`Promise.all()`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤, –∞ –∑–∞—Ç–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥¬†`Promise.all()`¬†–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—Ä–æ—Å –∫ API:

```js
const userIds = [1, 2, 5];
const arrayFetchUsers = userIds.map(
  userId => fetch(`https://jsonplaceholder.typicode.com/users/${userId}`)
	.then(response => response.json()) // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è Promise
);


Promise.all(arrayFetchUsers)
  .then(responses => {
	responses.forEach(resp => {
	  console.log(resp.name);
	});
  })
  .catch(error => console.error(error));
```

–ü—Ä–∏–º–µ—Ä —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–µ—Ç —Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ API, —Å –ø–æ–º–æ—â—å—é¬†`Promise.all()`¬†–¥–æ–∂–¥—ë—Ç—Å—è –∏—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞ –≤¬†JSON, –∞ –∑–∞—Ç–µ–º –≤—ã–≤–µ–¥–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ. –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è:

```
Leanne Graham
Ervin Howell
Chelsey Dietrich
```


#### `Promise.allSettled()`

`Promise.allSettled()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

`Promise.allSettled()`¬†–æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ –º–µ—Ç–æ–¥¬†`Promise.all()`, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ-–¥—Ä—É–≥–æ–º—É. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç¬†`Promise.all()`,¬†`Promise.allSettled()`¬†–∂–¥—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–≤–∞–∂–Ω–æ, –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å –æ–Ω–∏ —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π.

`Promise.allSettled()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–æ–º–∏—Å–æ–≤, —á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî¬†–º–∞—Å—Å–∏–≤. –ü–æ—Å–ª–µ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –≤—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –Ω–æ –Ω–µ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

```js
const promises = [
  new Promise(resolve => setTimeout(() => resolve(1), 3000)),
  new Promise((resolve, reject) => setTimeout(() => reject('error'), 2000)),
  new Promise(resolve => setTimeout(() => resolve(3), 1000))
]

Promise.allSettled(promises)
	.then(responses => console.log(responses))


/* –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
[
	{status:¬†'fulfilled',¬†value:¬†1},
	{status: 'rejected', reason: 'error'},
	{status:¬†'fulfilled',¬†value:¬†3},
]
*/
```

–ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏¬†`status`¬†–∏¬†`value`.¬†`status`¬†—Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É¬†`'fulfilled'`, –∞¬†`value`¬†‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–ª–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`resolve`¬†—É –ø—Ä–æ–º–∏—Å–∞:

```js
{ status: 'fulfilled', value: –∑–Ω–∞—á–µ–Ω–∏–µ }
```

–ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è —Å –æ—Ç–∫–∞–∑–æ–º, –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ ‚Äî¬†`status`¬†–∏¬†`reason`.¬†`status`¬†—Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É¬†`'rejected'`, –∞¬†`reason`¬†‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–ª–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ¬†`reject`¬†—É –ø—Ä–æ–º–∏—Å–∞:

```js
{ status: 'rejected', reason: –∑–Ω–∞—á–µ–Ω–∏–µ }
```

–ú–µ—Ç–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API. –û–Ω –æ—Å–æ–±–µ–Ω–Ω–æ —É–¥–æ–±–µ–Ω, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –∏ –æ—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ, —Ç–∞–∫ –∫–∞–∫¬†`Promise.allSettled()`¬†–¥–æ–∂–¥—ë—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –ï—Å–ª–∏ –∂–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞–≤–∏—Å–∏–º—ã, —Ç–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `Promise.all()`.


#### `Promise.any()`

–ú–µ—Ç–æ–¥¬†`Promise.any()`¬†–∏—Å–ø–æ–ª—å–∑—É—é—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –¥–æ–∂–¥–∞—Ç—å—Å—è ==–ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω–æ–≥–æ==.

`Promise.any()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–æ–º–∏—Å–æ–≤, —á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî¬†–º–∞—Å—Å–∏–≤. –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–π –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –ü—Ä–æ–º–∏—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω—ë–Ω, –µ—Å–ª–∏ –≤—Å–µ –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–≤—à–µ–≥–æ—Å—è –ø—Ä–æ–º–∏—Å–∞. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω, –º–µ—Ç–æ–¥ –Ω–µ –±—É–¥–µ—Ç –¥–æ–∂–∏–¥–∞—Ç—å—Å—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç¬†`Promise.all()`,¬†–∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤,¬†`Promise.any()`¬†—Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å, –Ω–µ–≤–∞–∂–Ω–æ –∫–∞–∫–æ–π.

–¢–∞–∫–∂–µ¬†`Promise.any()`¬†–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `Promise.race()`. –ú–µ—Ç–æ–¥¬†`Promise.race()`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ (`resolved`¬†–∏–ª–∏¬†`rejected`). –ú–µ—Ç–æ–¥¬†`Promise.any()`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ (`resolved`) –ø—Ä–æ–º–∏—Å–∞.¬†`Promise.any()`¬†–ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–æ–≤ —Å –æ—à–∏–±–∫–æ–π (`rejection`) –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ (`resolved`). 

#### –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–º–∏—Å–æ–≤

–°–æ–∑–¥–∞–¥–∏–º –¥–≤–∞ –ø—Ä–æ–º–∏—Å–∞, –≤—Ç–æ—Ä–æ–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ä–∞–Ω—å—à–µ:

```js
const promise1 = new Promise(resolve => setTimeout(() => resolve(1), 5000))
const promise2 = new Promise(resolve => setTimeout(() => resolve(2), 1000))

Promise.any([promise1, promise2])
  .then(result => console.log(result)) // 2

```

#### –û–¥–∏–Ω –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π

–ú–µ—Ç–æ–¥¬†`Promise.any()`¬†–Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ.
–í –∏—Ç–æ–≥–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫¬†`catch()`¬†–ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∫–æ–¥ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞¬†`then()`¬†—Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º¬†`1` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π¬†`result`.

```js
const promise1 = new Promise(resolve => setTimeout(() => resolve(1), 5000))
const promise2 = new Promise(
	(resolve, reject) => setTimeout(() => reject('error'), 1000)
)

Promise.any([promise1, promise2])
  .then(result => console.log(result)) // 1
  .catch(error => console.error(error))
```

#### –í—Å–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –æ—à–∏–±–∫–æ–π

–ú–µ—Ç–æ–¥¬†`Promise.any()`¬†–∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –≤—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.
–í –∏—Ç–æ–≥–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫¬†`then()`¬†–ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∫–æ–¥ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—à–∏–±–æ–∫¬†`catch()`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ¬†`error`¬†—ç—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞¬†`AggregateError`. –û–±—ä–µ–∫—Ç¬†`AggregateError`¬†—Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏ –æ—Ç –æ–±–æ–∏—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ¬†`errors`.  
–ü–æ—Ä—è–¥–æ–∫ –≤ –º–∞—Å—Å–∏–≤–µ –æ—à–∏–±–æ–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å—é –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –∏—Å—Ö–æ–¥–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

```js
const promise1 = new Promise(
	(resolve, reject) => setTimeout(() => reject('error1'), 1000)
)
const promise2 = new Promise(
	(resolve, reject) => setTimeout(() => reject('error2'), 2000)
)

Promise.any([promise1, promise2])
  .then(result => console.log(result))
  .catch(error => {
	  console.error(error); // AggregateError: All promises were rejected
	  console.log(error.errors) // ['error1', 'error2']
  })
```


#### `Promise.race()`

–ú–µ—Ç–æ–¥¬†`Promise.race()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç,¬†—á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–æ–≥–æ, ==–∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ==.

`Promise.race()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–æ–º–∏—Å–æ–≤, —á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî¬†–º–∞—Å—Å–∏–≤. –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω ==–ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞== –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤.  
–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫, —Ç–æ –≤–µ—Ä–Ω–µ—Ç—Å—è —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–µ—Ä–≤—ã–º.
–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è —Å –æ—à–∏–±–∫–∞–º–∏, —Ç–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–µ—Ä–Ω–µ—Ç—Å—è —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —Å –æ—à–∏–±–∫–æ–π –ø–µ—Ä–≤—ã–º.
–¢–æ –∂–µ —Å–∞–º–æ–µ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —á–∞—Å—Ç—å –ø—Ä–æ–º–∏—Å–æ–≤ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –∞ –¥—Ä—É–≥–∞—è –±–µ–∑ - –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–µ—Ä–Ω–µ—Ç—Å—è —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–µ—Ä–≤—ã–º.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–ª–∏ –æ—à–∏–±–∫–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.

```js
const promise1 = new Promise(resolve => setTimeout(() => resolve(1), 1000))
const promise2 = new Promise(
	(resolve, reject) => setTimeout(() => reject('error2'), 2000)
)

Promise.any([promise1, promise2])
  .then(result => console.log(result)) // 1
  .catch(error => console.error(error));
```

#### –û—Ç–ª–∏—á–∏–µ –æ—Ç¬†`Promise.any()`

–ö–∞–∫ –º—ã —É–∂–µ –∑–Ω–∞–µ–º,¬†`Promise.race()`¬†–≤–µ—Ä–Ω—ë—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω –ø–µ—Ä–≤—ã–π (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π) —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏¬†_–æ—à–∏–±–∫–∞_¬†–∏–∑ –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤.

`Promise.any()`¬†–≤–µ—Ä–Ω—ë—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω –ø–µ—Ä–≤—ã–π (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π) —Ä–µ–∑—É–ª—å—Ç–∞—Ç (_–±–µ–∑ –æ—à–∏–±–∫–∏_) –∏–∑ –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤.


#### `Promise.resolve(), Promise.reject()`

–ú–µ—Ç–æ–¥—ã¬†`Promise.r–µsolve()` –∏ `Promise.reject()` —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏  API- –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ–≥–¥–∞ –±—ç–∫–µ–Ω–¥ –µ—â—ë –Ω–µ –≥–æ—Ç–æ–≤, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.

```js
const mockApi = () => Promise.resolve({ id: 1, name: "Test User" });
const mockApi2 = () => Promise.reject(new Error("User not found"));

mockApi().then(console.log)
mockApi2().catch(console.log)
```

___

### –°–æ–∑–¥–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø—Ä–æ–º–∏—Å–æ–º

```js
function earnAllMoney() {
  return new Promise(function (resolve, reject) {
    const result = tryEarnAllMoney() // –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    if (result.ok) {
      resolve(result) // —É—Å–ø–µ—Ö ‚Üí –ø–µ—Ä–µ–≤–æ–¥–∏–º –ø—Ä–æ–º–∏—Å –≤ fulfilled –∏ –ø–µ—Ä–µ–¥–∞—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    } else {
      reject(new Error(result)) // –æ—à–∏–±–∫–∞ ‚Üí –ø–µ—Ä–µ–≤–æ–¥–∏–º –ø—Ä–æ–º–∏—Å –≤ rejected
    }
  })
}

earnAllMoney()
  .then((result) => {
    console.log("–£—Å–ø–µ—Ö! –î–µ–Ω—å–≥–∏ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω—ã:", result);
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞:", error.message);
  });

// –∏–ª–∏
async function handleMoney() {
  try {
    const result = await earnAllMoney();
    console.log("–£—Å–ø–µ—Ö! –î–µ–Ω—å–≥–∏ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω—ã:", result);
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞:", error.message);
  }
}

handleMoney();
```
___

### –°—Ö–ª–æ–ø—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–æ–≤

–ü—Ä–æ–º–∏—Å—ã –≤ JavaScript –æ–±–ª–∞–¥–∞—é—Ç —Å–≤–æ–π—Å—Ç–≤–æ–º¬†**"—Å—Ö–ª–æ–ø—ã–≤–∞–Ω–∏—è" (flattening)**¬†‚Äî –µ—Å–ª–∏ –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥–æ–π –ø—Ä–æ–º–∏—Å, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ "–ø—Ä–æ–º–∏—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–º–∏—Å–æ–≤" (–≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤), —É–ø—Ä–æ—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

#### –ü—Ä–∏–º–µ—Ä —Å—Ö–ª–æ–ø—ã–≤–∞–Ω–∏—è –ø—Ä–æ–º–∏—Å–æ–≤

```js
const promise = Promise.resolve(Promise.resolve(Promise.resolve("üê∂")));
// Promise {<fulfilled>: 'üê∂'}

promise.then(console.log); // –í—ã–≤–µ–¥–µ—Ç: üê∂
```

#### –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

1. `Promise.resolve("üê∂")`¬†—Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω–µ–Ω (`fulfilled`) —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º¬†`"üê∂"`.
2. –í–Ω–µ—à–Ω–∏–π¬†`Promise.resolve()`¬†–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–æ—Ç –ø—Ä–æ–º–∏—Å –∏¬†**–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç" (—Å—Ö–ª–æ–ø—ã–≤–∞–µ—Ç)**¬†–µ–≥–æ, –≤–æ–∑–≤—Ä–∞—â–∞—è –Ω–µ¬†`Promise<Promise<"üê∂">>`, –∞ –ø—Ä–æ—Å—Ç–æ¬†`Promise<"üê∂">`.
3. –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è¬†**–æ–¥–∏–Ω –ø–ª–æ—Å–∫–∏–π –ø—Ä–æ–º–∏—Å**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑¬†`.then()`.

#### –ì–¥–µ —ç—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è?

- –¶–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤ (`then`-—Ü–µ–ø–æ—á–∫–∏)
	–ï—Å–ª–∏ –≤¬†`.then()`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ö–ª–æ–ø—ã–≤–∞–µ—Ç—Å—è:

```js
fetch("/api/data")
  .then((response) => response.json()) // response.json() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å
  .then((data) => console.log(data)); // data —É–∂–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞
```

- `async/await`
	`await`¬†–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–æ–º–∏—Å—ã:

```js
async function fetchData() {
  const data = await fetch("/api/data").then(res => res.json());
  // await "—Å—Ö–ª–æ–ø—ã–≤–∞–µ—Ç" –ø—Ä–æ–º–∏—Å –æ—Ç res.json()
  console.log(data); // –≥–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –∞ –Ω–µ –ø—Ä–æ–º–∏—Å
}
```

- –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–æ–≤
	–ö–æ–≥–¥–∞ –≤—Ä—É—á–Ω—É—é –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Çcz –∑–Ω–∞—á–µ–Ω–∏–µ –≤¬†`Promise.resolve()`:

```js
const p = Promise.resolve(42); // –ü—Ä–æ–º–∏—Å —Å —á–∏—Å–ª–æ–º
const p2 = Promise.resolve(p); // –°—Ö–ª–æ–ø–Ω–µ—Ç—Å—è –≤ –ø—Ä–æ–º–∏—Å —Å 42
p2.then(console.log); // 42
```

- `Promise.all`, `Promise.race`  
	–≠—Ç–∏ –º–µ—Ç–æ–¥—ã —Ç–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã:

```js
Promise.all([
  Promise.resolve(1),
  Promise.resolve(Promise.resolve(2)), // –°—Ö–ª–æ–ø–Ω–µ—Ç—Å—è –≤ 2
]).then(console.log); // [1, 2]
```

#### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

- **–£–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥.**¬†–ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã.
- **–ò–∑–±–µ–≥–∞–µ—Ç "–∞–¥—Å–∫–∏—Ö" —Ü–µ–ø–æ—á–µ–∫.**¬†–ë–µ–∑ —Å—Ö–ª–æ–ø—ã–≤–∞–Ω–∏—è –ø—Ä–∏—à–ª–æ—Å—å –±—ã –ø–∏—Å–∞—Ç—å¬†`.then().then().then()`¬†–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å¬†`async/await`.**¬†`await`¬†—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å "–ø–ª–æ—Å–∫–∏–º–∏" –ø—Ä–æ–º–∏—Å–∞–º–∏.
___


# –ó–∞–¥–∞—á–∏

–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é `loadImage(url)`, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å. –ü—Ä–æ–º–∏—Å –¥–æ–ª–∂–µ–Ω:
- `resolve` —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º <img> (—É—Å—Ç–∞–Ω–æ–≤–∏ src –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π URL), –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ,
- `reject` —Å –æ—à–∏–±–∫–æ–π new Error('Failed to load image'), –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.

```js
function loadImage(url) {
	return new Promise((resolve, reject) => {
	¬† const img = new Image();
	¬† img.src = url;
	¬† img.addEventListener('load', () => resolve(img))
	¬† img.addEventListener('error', err => reject) // Point-Free Style
	});
}

loadImage('https://placehold.co/800x400')
	.then(img => document.body.appendChild(img))
	.catch(err => console.error;
```


–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é¬†`firstSuccessfulPromise(promises)`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
- **resolve**¬†—Å –ø–µ—Ä–≤—ã–º —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –ø—Ä–æ–º–∏—Å–æ–º (–µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —É—Å–ø–µ—à–µ–Ω),
- **reject**¬†—Å –º–∞—Å—Å–∏–≤–æ–º –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —Å –æ—à–∏–±–∫–æ–π.

```js
function firstSuccessfulPromise(promises) {
¬† return Promise.any(promises)
¬† ¬† // .then(promise => promise) // –∏–∑–±—ã—Ç–æ—á–Ω–æ, –∏—Ç–∞–∫ –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—Å—è –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π
¬† ¬† .catch(err => err.errors);
}

const promises = [
¬† Promise.reject(new Error('Failure 1')),
¬† Promise.resolve('Success 1'),
¬† Promise.reject(new Error('Failure 2')),
];

firstSuccessfulPromise(promises)
¬† .then(result => console.log(result)) // 'Success 1'
¬† .catch(errors => console.error(errors));
```
